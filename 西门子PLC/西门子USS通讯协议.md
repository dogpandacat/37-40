西门子公司喜欢搞概念，一个PLC整出N个概念，术语，英文名词，RS485为基础的串行通讯协议上面搞了多个其他协议，什么狗屁S7专属协议、什么PPI协议、什么MPI协议、
什么Profibus协议，还整出个什么Profibus-DP子协议，又冒出个OUC、整出个USS协议，又搞出个OPC协议，我操你妈的，这是要搞死这行的人吗？就不能不要搞这么多名词，
英文缩写，说人话可以吗？

最近看文章，又看到一个USS通讯协议，对于我这个CS出身的人来说，不搞到彻底明白，我是不会善罢甘休的，所以翻了一下西门子的用户手册，手册上是这么说的：
STEP 7‑Micro/WIN SMART 指令库（可在STEP 7‑Micro/WIN SMART 指令树的“库”(Libraries) 文件夹中找到这些指令，选择一条 USS 指令后，会自动添加一个或多个相关子例程和中断）包括专门设计用于通过 USS 协议与电机变频器进行通信的预组态子例程和中断例程，从而使控制 Siemens 变频器更加简便，
可使用 USS 指令控制物理变频器和读/写变频器参数。

划重点：

1. 是用来和西门子变频器进行通讯的
2. 并不是什么新指令，新的物理通讯方式
3. USS是西门子预先写好的子程序，就是封装好的函数，用来在写PLC程序的时候调用的，就像一个jar包、一个dll，一个python包
4. 是专门用来读写西门子变频器的参数的，不是用来干其他事情的
5. 不能用来和西门子V90伺服驱动器通讯

西门子公司不明确说的是：

1. 这个USS是通过RS485、RS232串口通讯协议与变频器通讯吗？
2. 是通过TCP/IP，走以太网协议吗？
3. 没有明确告知，硬件线路上如何接线，用的线缆是什么样子？没有放一张硬件接好的真实图片

总结来看：

1. 就是一个走串口通讯的应用层协议而已
2. 提供了一些预先写好的子例程（就是函数），封装了底层串口发送数据、接收数据的一些细节
3. 指令包括：USS_INIT USS_CTRL USS_RPM_x USS_WPM_x，这几个图形化拖放的指令

Network 1：
初始化 USS 协议：在第一次扫描中，为端口 1 启用 USS 协议，使变频器地址“0”激活，将波特率设置为 19200
LD SM0.1
CALL USS_INIT, 1, 19200, 16#00000001, Q0.0, VB1 

程序段 2：
控制变频器 0 的参数
LD SM0.0
CALL USS_CTRL, M10.0, M10.1, M10.2, M10.3, M10.4, 0, 1, 100.0, M1.0, VB2, VW4, VD6, M0.1, M0.2, M0.3, M0.4 

程序段 3：
从变频器 0 读取字参数。
读取参数 5、索引 0：
1. 将M10.5 的状态保存到临时位置，以便在 LAD 中显示该程序段。
2. 将I0.5 的上升边缘脉冲保存到一个临时 L 位置，以便将其传送至子例程。
LD M10.5 
= L60.0 
LD M10.5
EU 
= L63.7 
LD L60.0 
CALL USS_RPM_W, L63.7, 0, 5, 0, &VB20, M1.1, VB10, VW12

程序段 4：
将字参数写入到变频器 0。写入参数 2000，索引 0。
注意： 此 STL 代码无法编译为 LAD 或 FBD。
LD M10.6 
= L60.0 
LD M10.6 
EU 
= L63.7 
LDN SM0.0
= L63.6
LD L60.0 
CALL USS_WPM_R, L63.7, L63.6, 0, 2000, 0, 50.0, &VB40, M1.2, VB14 

所以，搞清楚西门子变频器有哪些行为可以控制，有哪些参数可以读取，哪些参数可以写入，参数的数据类型是什么，就明白了USS协议可以对其进行的操作，仅此而已，
整天被他妈的西门子搞概念，搞英文单词缩写，西门子公司搞USS，干嘛不说：

1. 我们的变频器的参数应该怎么设置呢，现在给大家一个方便的方法
2. 弄一个RS485的线，把PLC和变频器接起来
3. 我们预先写好了几个子程序，名字分别是：USS_INIT、USS_CTRL、USS_RPM_x、USS_WPM_x，分别用来初始化波特率、控制变频器、读变频器参数、写变频器参数
4. 大家在PLC编程软件中，用梯形图、ST编程语言编写的时候，调用一下这些指令就行了，写程序很快
5. 好了，为了糊弄大家，我们取个名字，叫USS通讯协议，草泥马
